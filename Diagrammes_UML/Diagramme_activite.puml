@startuml
title Diagramme d'Activité - Flux Global

start

:Lancer le programme;

:Afficher Menu Principal
(1. Console, 2. Graphique, 3. Tests);

switch (Choix Utilisateur)

case ( 1. Mode Console )
    partition "GameRunner" {
        :Demander fichier d'entrée;
        :Lire fichier (FileReader);
        :Demander Stratégie
        (Mono / Multi-thread);
        :Demander nombre itérations;
        
        :Initialiser Game;
        
        while (Itérations restantes ?) is (Oui)
            :Calculer génération suivante
            (via GridUpdater);
            :Sauvegarder grille
            (FileWriter);
        endwhile (Non)
    }

case ( 2. Mode Graphique )
    partition "GameWindow (SFML)" {
        :Charger "input.txt";
        :Initialiser Fenêtre Graphique;
        
        while (Fenêtre ouverte ?) is (Oui)
            :Gérer Evénements
            (Clavier / Souris);
            
            if (Temps écoulé ?) then (Oui)
                :Calculer génération suivante
                (via GridUpdater);
            endif
            
            :Dessiner Grille;
            :Afficher Fenêtre;
        endwhile (Non)
        :Fermer Fenêtre;
    }

case ( 3. Tests Unitaires )
    :Lancer TestRunner;
    :Exécuter tous les tests;
    :Afficher résultats;

case ( Autre )
    :Afficher Erreur;

endswitch

stop

@enduml
